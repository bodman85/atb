!function a(o,d,i){function r(t,e){if(!d[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=d[t]={exports:{}},o[t][0].call(n.exports,function(e){return r(o[t][1][e]||e)},n,n.exports,a,o,d,i)}return d[t].exports}for(var l="function"==typeof require&&require,e=0;e<i.length;e++)r(i[e]);return r}({1:[function(e,t,n){t.exports.test=function(){console.log("test passed!")}},{}],2:[function(e,t,n){var a=e("./data-manager");const i="https://dapi.binance.com/dapi/v1/",o="exchangeInfo",d="ticker/price";let r,l=0;function s(){l++;let e=document.createElement("div");e.classList.add("row"),e.classList.add("mb-1");var t=`leadingInstrument${l}`,n=`ledInstrument${l}`,a=`leadingPrice${l}`,o=`ledPrice${l}`,d=`deltaPcnt${l}`,i=`deltaUsd${l}`,r=`removeButton${l}`;e.appendChild(c(t,"select")),e.appendChild(c(a,"input","text")),e.appendChild(c(n,"select")),e.appendChild(c(o,"input","text")),e.appendChild(c(d,"input","text")),e.appendChild(c(i,"input","text")),e.appendChild(c(r,"button","button","remove")),document.getElementById("instrumentGrid").appendChild(e),u(t),u(n),function e(t){let n=document.getElementById(`leadingPrice${t}`);let a=document.getElementById(`ledPrice${t}`);var o=document.getElementById(`leadingInstrument${t}`);var d=document.getElementById(`ledInstrument${t}`);let i=document.getElementById(`deltaPcnt${t}`);let r=document.getElementById(`deltaUsd${t}`);p(o.value,e=>{n.value=e[0].price,r.value=parseFloat(a.value)-parseFloat(n.value)});p(d.value,e=>{a.value=e[0].price});i.value=100*(a.value/n.value-1);setTimeout(function(){e(t)},1e3)}(l)}function c(e,t,n,a){let o=document.createElement("div");o.classList.add("col");var d=document.createElement(t);if(d.id=e,n){if("text"===n)d.type=n,d.classList.add("form-control");else if("button"===n&&(d.type=n,d.classList.add("btn"),d.classList.add("btn-secondary"),"remove"===a)){let e=document.createElement("span");e.classList.add("fa"),e.classList.add("fa-trash"),d.appendChild(e),d.addEventListener("click",function(){!function(e){let t=document.getElementById(e).parentNode.parentNode;t.remove(),l--}(d.id)},!1)}}else d.classList.add("form-select");return o.appendChild(d),o}window.onload=async function(){s(l),document.getElementById("addNewPairButton").addEventListener("click",s),a.test()};async function u(e){r=r||await async function(e){let t=i+e,n=new Headers;n.append("Content-Type","application/json");const a={method:"GET",headers:n},o=await fetch(t,a),d=await o.json();return d}(o),function(e,t){let n=document.getElementById(e);!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(n);for(var a of t.symbols)n.appendChild(function(e,t){var n=document.createElement("option");return n.setAttribute("value",t),n.innerHTML=e,n}(a.symbol,a.symbol));!function(e){for(var t=new Array,n=0;n<e.options.length;n++)t[n]=new Array,t[n][0]=e.options[n].text,t[n][1]=e.options[n].value;t.sort();for(;0<e.options.length;)e.options[0]=null;for(n=0;n<t.length;n++){var a=new Option(t[n][0],t[n][1]);e.options[n]=a}}(n)}(e,r)}function p(e,t){!async function(e,t){e=i+e;let n=new XMLHttpRequest;n.onreadystatechange=function(){4==this.readyState&&200==this.status&&t(JSON.parse(n.responseText))},n.open("GET",e,!0),n.send()}(`${d}?symbol=${e}`,t)}},{"./data-manager":1}]},{},[2]);
